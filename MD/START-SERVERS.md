# üöÄ Quick Start Guide - Local AI with MCP + Ollama

## System Overview

**Architecture:**
- **Ollama Server**: `http://192.168.1.200:11434` (LAN GPU server - Quadro P1000)
- **MCP Server**: `http://localhost:3000` (Local bridge to Ollama)
- **Python Script**: `news-rip.py` (Article processor)

**AI Models Available:**
- `llama3.2:1b` (fast, lightweight)
- `tinyllama:latest` (ultra-fast)
- `bramvanroy/fietje-2b-instruct:Q3_K_M` (Dutch-optimized)
- `bramvanroy/fietje-2b-instruct:Q4_K_M` (Dutch-optimized, better quality)

---

## üîß Step 1: Start MCP Server

```bash
cd /Users/_akira/CSAD/websites-new-2025/my-mcp-server
npm start
```

**Expected Output:**
```
‚úÖ OLLAMA_URL = (masked)
‚úÖ GITHUB_TOKEN = (masked)
‚úÖ GOOGLE_APPLICATION_CREDENTIALS = (masked)
üî• Firestore connected
üß† Using local Ollama models: {
  summarize: 'llama3.2:1b',
  sentiment: 'llama3.2:1b',
  entities: 'llama3.2:1b',
  quality: 'llama3.2:1b'
}
üöÄ MCP (Ollama + Firestore + GitHub) running at http://localhost:3000
üß© Found 4 local Ollama models
```

---

## üì∞ Step 2: Run News Processor

```bash
cd /Users/_akira/CSAD/websites-new-2025/politie-forum-45
source venv/bin/activate
python news-rip.py
```

**Menu Options:**

### Option 26: ü§ñ AI OPTIMIZE (Local Ollama - Recommended)
- **Uses**: MCP + Ollama (100% local, no API costs)
- **Process**: `/news` ‚Üí `/ai_news` with AI enhancements
- **Features**:
  - AI-generated summaries (Dutch)
  - Sentiment analysis
  - Entity extraction (people, organizations, locations)
  - Quality scoring
  - Tag enhancement
  - SEO metadata
- **Speed**: ~5-10 seconds per article (local GPU)
- **Cost**: FREE ‚úÖ

### Option 25: ‚ú® ADVANCED REWRITER V4 (Groq Cloud)
- **Uses**: Groq API (requires `GROQ_API_KEY`)
- **Process**: `articles_full` ‚Üí `/news` with full rewrite
- **Features**: Same as Option 26 + full article rewriting
- **Speed**: ~3-5 seconds per article
- **Cost**: FREE (rate-limited)
- **Setup**: `export GROQ_API_KEY=your_key`

---

## üß™ Test MCP Connection

```bash
cd /Users/_akira/CSAD/websites-new-2025/politie-forum-45
source venv/bin/activate
python3 -c "
import requests
payload = {'jsonrpc': '2.0', 'id': 1, 'method': 'ollamaListModels', 'params': {}}
res = requests.post('http://localhost:3000', json=payload, timeout=10)
print('‚úÖ MCP Server is running')
print('üìã Available models:', res.json()['result'])
"
```

---

## üìä Workflow Example

1. **Extract articles from RSS feeds** (Menu 7)
2. **Process to Firestore** (Menu 9) ‚Üí saves to `/news`
3. **AI Optimize with Ollama** (Menu 26) ‚Üí creates `/ai_news` with:
   - AI summaries
   - Sentiment analysis
   - Entity extraction
   - Quality scores
   - Enhanced tags

**Result**: Articles ready for Next.js ISR at `/nieuws/{slug}`

---

## üõ†Ô∏è Troubleshooting

### MCP Server not responding
```bash
# Check if running
curl http://localhost:3000/ping

# If not running, start it:
cd /Users/_akira/CSAD/websites-new-2025/my-mcp-server
npm start
```

### Ollama not accessible
```bash
# Test Ollama server (LAN)
curl http://192.168.1.200:11434/api/tags

# Expected: JSON with list of models
```

### Python import errors
```bash
# Activate virtual environment first
cd /Users/_akira/CSAD/websites-new-2025/politie-forum-45
source venv/bin/activate
pip install -r requirements.txt
```

---

## üéØ Performance Tips

1. **Use llama3.2:1b for speed** (default) - 5-10s per article
2. **Use bramvanroy/fietje-2b for Dutch quality** - 10-15s per article
3. **Batch processing**: Menu 26 processes all `/news` articles automatically
4. **Local = No rate limits**: Process unlimited articles (vs Groq's 500k tokens/day)

---

## üìà Cost Comparison

| Method | Cost | Speed | Quality | Rate Limits |
|--------|------|-------|---------|-------------|
| **Option 26 (Ollama)** | FREE | 5-10s | Good | NONE ‚úÖ |
| **Option 25 (Groq)** | FREE | 3-5s | Better | 500k tokens/day |
| **Option 25 (OpenAI)** | $0.002/article | 2-3s | Best | Pay-as-you-go |

**Recommendation**: Use Option 26 (Ollama) for daily automation, Option 25 (Groq) for high-quality rewrites.

---

## üîÑ Automation Setup

For automated daily processing:

```bash
# Menu option 20: Setup cron automation
# Runs every 30 minutes:
# - Extract RSS feeds
# - Process articles
# - AI optimize with Ollama
# - Sync to crime map
# - Generate sitemaps
```

**Cron entry** (auto-generated by Menu 20):
```cron
*/30 * * * * cd /Users/_akira/CSAD/websites-new-2025/politie-forum-45 && source venv/bin/activate && python news-rip.py --auto
```

---

‚úÖ **System is ready!** Use Menu 26 for local AI optimization.
