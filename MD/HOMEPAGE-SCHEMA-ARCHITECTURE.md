# Homepage Schema Architecture - Visual Flow
**Date**: October 9, 2025

---

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER REQUEST                             â”‚
â”‚                  https://politie-forum.nl/                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Next.js App Router                            â”‚
â”‚                   src/app/page.tsx                               â”‚
â”‚                  (Server Component)                              â”‚
â”‚                                                                   â”‚
â”‚  export const revalidate = 300; // ISR every 5 minutes          â”‚
â”‚                                                                   â”‚
â”‚  async function HomePage() {                                     â”‚
â”‚    â”œâ”€> getLatestArticles(3)        [For UI Display]            â”‚
â”‚    â”œâ”€> getServerCategories()       [For Forum Sections]        â”‚
â”‚    â””â”€> getFeaturedArticles(10)     [For SEO Schema] â—„â”€â”€â”       â”‚
â”‚  }                                                       â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
                    â”‚                              â”‚       â”‚
                    â–¼                              â–¼       â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   ForumClient.tsx        â”‚   â”‚   HomepageSchema.tsx         â”‚
     â”‚   (Client Component)     â”‚   â”‚   (Client Component)         â”‚
     â”‚                          â”‚   â”‚                              â”‚
     â”‚  â€¢ Featured Articles     â”‚   â”‚  â€¢ JSON-LD Generation        â”‚
     â”‚  â€¢ Category Cards        â”‚   â”‚  â€¢ ItemList (10 articles)    â”‚
     â”‚  â€¢ User Navigation       â”‚   â”‚  â€¢ BreadcrumbList            â”‚
     â”‚  â€¢ Crime Map Widget      â”‚   â”‚  â€¢ SiteNavigationElement     â”‚
     â”‚  â€¢ Search Bar            â”‚   â”‚  â€¢ hasPart (4 sections)      â”‚
     â”‚  â€¢ Tip Line              â”‚   â”‚  â€¢ Organization              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â”‚
                                                   â–¼
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚      <script type="application/     â”‚
                             â”‚         ld+json">                   â”‚
                             â”‚      {                              â”‚
                             â”‚        "@context": "...",           â”‚
                             â”‚        "@graph": [...]              â”‚
                             â”‚      }                              â”‚
                             â”‚      </script>                      â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â”‚
                                                   â–¼
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚         HTML Response               â”‚
                             â”‚    (with embedded JSON-LD)          â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â”‚
                                                   â–¼
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚       Google Crawler                â”‚
                             â”‚    â€¢ Reads JSON-LD                  â”‚
                             â”‚    â€¢ Indexes ItemList               â”‚
                             â”‚    â€¢ Processes Breadcrumbs          â”‚
                             â”‚    â€¢ Understands Site Structure     â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ISR (Incremental Static Regeneration) Flow

```
TIME: 0s (First Request)
â”œâ”€> User visits homepage
â”œâ”€> Next.js serves cached static HTML
â”œâ”€> HTML includes JSON-LD with 10 articles
â””â”€> Response time: ~50ms (cached)

TIME: 150s (During Cache Lifetime)
â”œâ”€> User visits homepage
â”œâ”€> Next.js serves same cached HTML
â”œâ”€> No rebuild triggered
â””â”€> Response time: ~50ms (cached)

TIME: 300s (Cache Expiration)
â”œâ”€> User visits homepage
â”œâ”€> Next.js serves cached HTML (instant response)
â”œâ”€> Background rebuild triggered:
â”‚   â”œâ”€> Fetch 10 latest articles from Firestore
â”‚   â”œâ”€> Generate new JSON-LD schema
â”‚   â”œâ”€> Render new HTML
â”‚   â””â”€> Cache new version
â””â”€> Next request gets fresh HTML

TIME: 310s (After Rebuild)
â”œâ”€> User visits homepage
â”œâ”€> Next.js serves NEW cached HTML
â”œâ”€> Updated article list in JSON-LD
â””â”€> Response time: ~50ms (cached)

REPEAT CYCLE: Every 300 seconds (5 minutes)
```

---

## ğŸ“Š Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Firebase Firestore                          â”‚
â”‚                    /news collection                              â”‚
â”‚                                                                   â”‚
â”‚  Article 1: { slug, title, excerpt, ... }                       â”‚
â”‚  Article 2: { slug, title, excerpt, ... }                       â”‚
â”‚  Article 3: { slug, title, excerpt, ... }                       â”‚
â”‚  ...                                                             â”‚
â”‚  Article 100: { slug, title, excerpt, ... }                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Firestore Query
                            â”‚ (orderBy: datePublished, limit: 10)
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   src/lib/firebaseAdmin.ts                       â”‚
â”‚                                                                   â”‚
â”‚  export async function getLatestArticles(limit: number) {       â”‚
â”‚    const snapshot = await adminFirestore                        â”‚
â”‚      .collection('news')                                        â”‚
â”‚      .orderBy('datePublished', 'desc')                          â”‚
â”‚      .limit(limit)                                              â”‚
â”‚      .get();                                                    â”‚
â”‚    return snapshot.docs.map(doc => doc.data());                â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Wrapped by
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      src/lib/api.ts                              â”‚
â”‚                                                                   â”‚
â”‚  export async function getFeaturedArticles(limit: number) {     â”‚
â”‚    const articles = await getLatestArticles(limit);            â”‚
â”‚                                                                   â”‚
â”‚    // Return MINIMAL data for SEO performance                   â”‚
â”‚    return articles.map(a => ({                                  â”‚
â”‚      slug: a.slug,        // Only 2 fields                     â”‚
â”‚      title: a.title       // No images, content, etc.          â”‚
â”‚    }));                                                         â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Called by
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    src/app/page.tsx                              â”‚
â”‚                                                                   â”‚
â”‚  const schemaArticles = await getFeaturedArticles(10);         â”‚
â”‚                                                                   â”‚
â”‚  return (                                                        â”‚
â”‚    <HomepageSchema                                              â”‚
â”‚      articles={schemaArticles}                                  â”‚
â”‚      updatedAt={new Date().toISOString()}                       â”‚
â”‚    />                                                           â”‚
â”‚  );                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Props passed to
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              src/components/SEO/HomepageSchema.tsx               â”‚
â”‚                                                                   â”‚
â”‚  const itemList = articles.map((a, i) => ({                     â”‚
â”‚    "@type": "ListItem",                                         â”‚
â”‚    position: i + 1,                                             â”‚
â”‚    url: `https://politie-forum.nl/nieuws/${a.slug}`,           â”‚
â”‚    name: a.title                                                â”‚
â”‚  }));                                                           â”‚
â”‚                                                                   â”‚
â”‚  const schema = {                                               â”‚
â”‚    "@context": "https://schema.org",                           â”‚
â”‚    "@graph": [                                                  â”‚
â”‚      Organization, WebPage, BreadcrumbList,                    â”‚
â”‚      SiteNavigationElement                                     â”‚
â”‚    ]                                                            â”‚
â”‚  };                                                             â”‚
â”‚                                                                   â”‚
â”‚  return <script type="application/ld+json">...</script>;       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Rendered as
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     HTML Output (Snippet)                        â”‚
â”‚                                                                   â”‚
â”‚  <html>                                                          â”‚
â”‚    <head>                                                        â”‚
â”‚      <script type="application/ld+json">                        â”‚
â”‚      {                                                           â”‚
â”‚        "@context": "https://schema.org",                        â”‚
â”‚        "@graph": [                                              â”‚
â”‚          {                                                       â”‚
â”‚            "@type": "Organization",                             â”‚
â”‚            "name": "Politie Forum Nederland",                   â”‚
â”‚            ...                                                   â”‚
â”‚          },                                                      â”‚
â”‚          {                                                       â”‚
â”‚            "@type": ["WebPage", "CollectionPage"],              â”‚
â”‚            "mainEntity": {                                       â”‚
â”‚              "@type": "ItemList",                               â”‚
â”‚              "itemListElement": [                               â”‚
â”‚                {                                                 â”‚
â”‚                  "@type": "ListItem",                           â”‚
â”‚                  "position": 1,                                 â”‚
â”‚                  "url": ".../nieuws/latest-article",            â”‚
â”‚                  "name": "Latest Article Title"                 â”‚
â”‚                },                                                â”‚
â”‚                ...                                               â”‚
â”‚              ]                                                   â”‚
â”‚            }                                                     â”‚
â”‚          }                                                       â”‚
â”‚        ]                                                         â”‚
â”‚      }                                                           â”‚
â”‚      </script>                                                   â”‚
â”‚    </head>                                                       â”‚
â”‚    <body>...</body>                                             â”‚
â”‚  </html>                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Google Processing Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Google Crawler Visits                         â”‚
â”‚                  https://politie-forum.nl                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Extracts JSON-LD Schema    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                â”‚                â”‚
            â–¼                â–¼                â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚Organization â”‚  â”‚  ItemList   â”‚  â”‚ Breadcrumb  â”‚
     â”‚   Schema    â”‚  â”‚   (10 art.) â”‚  â”‚    List     â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚                â”‚                â”‚
            â–¼                â–¼                â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Knowledge   â”‚  â”‚  "Top       â”‚  â”‚ Breadcrumb  â”‚
     â”‚   Graph     â”‚  â”‚  stories"   â”‚  â”‚  display    â”‚
     â”‚  Eligible   â”‚  â”‚  Eligible   â”‚  â”‚  in SERP    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                â”‚                â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Enhanced SERP Display      â”‚
              â”‚                              â”‚
              â”‚  â€¢ Company name + logo       â”‚
              â”‚  â€¢ Breadcrumbs               â”‚
              â”‚  â€¢ Sitelinks                 â”‚
              â”‚  â€¢ "Top stories" carousel    â”‚
              â”‚  â€¢ "More from this site"     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Performance Comparison

### Before Homepage Schema

```
User Request
    â”‚
    â”œâ”€> Next.js renders page
    â”œâ”€> No structured data
    â””â”€> Response: 200ms
        â”‚
        â–¼
    Google Crawler
        â”‚
        â”œâ”€> Sees raw HTML
        â”œâ”€> Guesses site structure
        â”œâ”€> No rich results
        â””â”€> Basic SERP display:
            "Politie Forum Nederland"
            https://politie-forum.nl
            Meta description text...
```

### After Homepage Schema

```
User Request
    â”‚
    â”œâ”€> Next.js renders page
    â”œâ”€> Includes 5 JSON-LD schemas
    â””â”€> Response: 210ms (+10ms for schema)
        â”‚
        â–¼
    Google Crawler
        â”‚
        â”œâ”€> Reads JSON-LD
        â”œâ”€> Understands structure
        â”œâ”€> Processes ItemList (10 articles)
        â”œâ”€> Indexes BreadcrumbList
        â””â”€> Enhanced SERP display:
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ ğŸ¢ Politie Forum Nederland         â”‚
            â”‚ Home â€º Nieuws                      â”‚
            â”‚ â­â­â­â­â­ (if reviews exist)        â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ Discussies over Politie, Nieuws...â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ Nieuws | CategorieÃ«n | Over | ...  â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ ğŸ“° Top Stories:                    â”‚
            â”‚   â€¢ Latest Article 1               â”‚
            â”‚   â€¢ Latest Article 2               â”‚
            â”‚   â€¢ Latest Article 3               â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Component Responsibilities

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Component Matrix                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Component        â”‚ Type             â”‚ Responsibility           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ page.tsx         â”‚ Server Component â”‚ â€¢ Fetch data             â”‚
â”‚                  â”‚                  â”‚ â€¢ ISR configuration      â”‚
â”‚                  â”‚                  â”‚ â€¢ Orchestrate layout     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ api.ts           â”‚ Server Function  â”‚ â€¢ Wrap Firebase calls    â”‚
â”‚                  â”‚                  â”‚ â€¢ Return minimal data    â”‚
â”‚                  â”‚                  â”‚ â€¢ Error handling         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HomepageSchema   â”‚ Client Component â”‚ â€¢ Generate JSON-LD       â”‚
â”‚                  â”‚                  â”‚ â€¢ Build all 5 schemas    â”‚
â”‚                  â”‚                  â”‚ â€¢ Inject into HTML       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ForumClient      â”‚ Client Component â”‚ â€¢ UI rendering           â”‚
â”‚                  â”‚                  â”‚ â€¢ User interactions      â”‚
â”‚                  â”‚                  â”‚ â€¢ Client-side state      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ firebaseAdmin    â”‚ Server SDK       â”‚ â€¢ Firestore queries      â”‚
â”‚                  â”‚                  â”‚ â€¢ Full article data      â”‚
â”‚                  â”‚                  â”‚ â€¢ Server-side only       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Update Propagation Flow

```
New Article Published to Firestore
    â”‚
    â”œâ”€> Time: 0s - Article in /news collection
    â”‚
    â”œâ”€> Time: 0-300s - Old HTML still cached
    â”‚   â””â”€> Users see old article list
    â”‚
    â”œâ”€> Time: 300s - ISR cache expires
    â”‚   â”œâ”€> Next request triggers rebuild
    â”‚   â”œâ”€> getFeaturedArticles() fetches new data
    â”‚   â”œâ”€> HomepageSchema generates new JSON-LD
    â”‚   â””â”€> New HTML cached with updated ItemList
    â”‚
    â”œâ”€> Time: 300s+ - Users see new article in list
    â”‚
    â”œâ”€> Time: 24-48h - Google re-crawls homepage
    â”‚   â”œâ”€> Reads updated JSON-LD
    â”‚   â”œâ”€> Updates index with new article
    â”‚   â””â”€> New article eligible for "Top stories"
    â”‚
    â””â”€> Time: 1-2 weeks - New article appears in rich results
```

---

## ğŸ“ Schema Relationships

```
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚   @graph Root   â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚               â”‚               â”‚
               â–¼               â–¼               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚Organizationâ”‚    â”‚ WebPage â”‚   â”‚Breadcrumb   â”‚
        â”‚    #org   â”‚    â”‚ #webpageâ”‚   â”‚List         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â”‚#breadcrumb  â”‚
                              â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         â”‚         â”‚
                    â–¼         â–¼         â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚mainEntity â”‚â”‚hasPartâ”‚â”‚breadcrumb â”‚
            â”‚           â”‚â”‚       â”‚â”‚@id ref    â”‚
            â”‚  ItemList â”‚â”‚  [4]  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚  (10 art.)â”‚â”‚ pages â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ itemListElement   â”‚
            â”‚ [10 ListItem]     â”‚
            â”‚                   â”‚
            â”‚ â€¢ position: 1-10  â”‚
            â”‚ â€¢ url: article    â”‚
            â”‚ â€¢ name: title     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
  #org, #webpage, #breadcrumb = @id identifiers
  @id ref = Reference to another schema
  hasPart [4] = Array of 4 CollectionPage/WebPage
```

---

## ğŸ¨ Visual SERP Enhancement

### Standard SERP (Before)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ Politie Forum Nederland            â”‚
â”‚ https://politie-forum.nl              â”‚
â”‚                                        â”‚
â”‚ Welkom bij Politie Forum Nederland.   â”‚
â”‚ Bespreek politiezaken, deel ervaring- â”‚
â”‚ en en blijf op de hoogte...           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Enhanced SERP (After Schema)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¢ Politie Forum Nederland                            â”‚
â”‚ https://politie-forum.nl â€º Nieuws                     â”‚
â”‚ â­â­â­â­â­ 4.8 (if reviews)  ğŸ“ Amsterdam              â”‚
â”‚                                                        â”‚
â”‚ Discussies over Politie, Nieuws en Veiligheid        â”‚
â”‚                                                        â”‚
â”‚ ğŸ”— Nieuws  ğŸ“‚ CategorieÃ«n  â„¹ï¸ Over  âœ‰ï¸ Contact       â”‚
â”‚                                                        â”‚
â”‚ ğŸ“° Laatste Artikelen:                                 â”‚
â”‚ â”œâ”€ Brand in Almere zorgt voor grote schade           â”‚
â”‚ â”œâ”€ Politie zoekt getuigen van overval Rotterdam      â”‚
â”‚ â””â”€ Nieuwe veiligheidsmaatregelen aangekondigd         â”‚
â”‚                                                        â”‚
â”‚ [Meer artikelen â€º]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Mobile SERP Carousel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â—€ Politie Forum Nederland â–¶                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [IMAGE]                               â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚ Brand in Almere zorgt voor...        â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚ 2 uur geleden â€¢ Politie Forum        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [IMAGE]                               â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚ Politie zoekt getuigen van...        â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚ 5 uur geleden â€¢ Politie Forum        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚
â”‚  [Swipe for more â€ºâ€ºâ€º]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

(Enabled by ItemList schema)
```

---

**Status**: âœ… Visual Documentation Complete
**Last Updated**: October 9, 2025
**Purpose**: Architecture reference for homepage schema system
